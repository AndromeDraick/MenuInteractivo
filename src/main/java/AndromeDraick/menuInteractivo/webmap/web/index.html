<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>MenuInteractivo WebMap</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet"
          href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <style>
        html, body, #map { height: 100%; margin:0; }
        .leaflet-container { background: #0e0e0e; }
    </style>
</head>
<body>
<div id="map"></div>
<script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
<script>
    // Ajusta centro/zoom iniciales a tu mundo
    const map = L.map('map', { crs: L.CRS.Simple, minZoom: 0, maxZoom: 6 }).setView([0,0], 2);

    // Nota: el servidor sirve /tiles/{world}/{z}/{x}/{y}.png
    const worldName = 'world'; // puedes leerlo de un endpoint JSON si quieres
    const tiles = L.tileLayer(`/tiles/${worldName}/{z}/{x}/{y}.png`, {
      minZoom: 0,
      maxZoom: 6,
      tileSize: 256,
      noWrap: true,
      detectRetina: false
    });
    tiles.addTo(map);

    // Opcional: límites para evitar scrolling infinito
    const size = 32768; // dimensión lógica para encuadre inicial (ajústalo a tu worldborder)
    const bounds = [[-size, -size],[size, size]];
    map.setMaxBounds(bounds);
</script>
</body>
</html>
